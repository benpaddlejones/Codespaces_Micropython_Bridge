Imrpove ths plan with teh following notes:
Mock The micropython script shoudl be able to run like nirmal python in VScode without import errros and liting tools shoudl not idenify eerros with code (utime machine etc).
Their needs to be two emulators a VScode one that renders teh pinout diagram in awebview inside VSocde and has lights for any pin in / out activity
explain how the mck could mock I2c communicatio so scripts could run ? I'm open to ideas but I don't want this to make teh emulator flaky?
This is connected to VSCode and works when VSCode ru is clicked. It will be acess from the Bridge menu

Ask any questions if this does not make senseGood clarifications! A few questions before I update the plan:

1. **Linting/Import Errors**: To make `import machine`, `import utime`, etc. work without red squiggles in VS Code, I have two options:

   - **Option A**: Create type stub files (`.pyi`) that Pylance recognizes, installed as a "typings" folder
   - **Option B**: Create actual Python modules that shadow the MicroPython ones at runtime AND provide type hints
   - **Option C**: Configure `pyrightconfig.json` / `pyproject.toml` to add `.mock/micropython` to the analysis paths

   I'm leaning toward **A + C combined** - real mock modules for runtime plus stub files for static analysis. Does that sound right?

2. **Two Emulators**: You mentioned:

   - A **VS Code webview** with the pinout diagram and activity lights
   - What's the second emulator? Did you mean:
     - A **browser-based** emulator accessible from the Bridge web UI?
     - Or just clarifying that the mock runner + webview are two separate components?

3. **I2C Mocking Strategy**: Here are some approaches to avoid flakiness:

   | Approach                       | Pros                                                                  | Cons                                          |
   | ------------------------------ | --------------------------------------------------------------------- | --------------------------------------------- |
   | **A. Address-based auto-stub** | Zero config, detects device by I2C address, returns sensible defaults | May not match exact device behavior           |
   | **B. Config file mapping**     | User specifies "address 0x76 = BME280", full control                  | Requires manual setup                         |
   | **C. Recording mode**          | Run once on real hardware, record I2C traffic, replay in mock         | Most accurate, but requires real device first |
   | **D. Generic response**        | Unknown devices return `0x00` or configurable pattern                 | Simple but limited                            |

   I suggest **A (auto-stub) + B (optional config override)** - auto-detect common sensors by address, but let users override via a `.mock/devices.json` file. Thoughts?

4. **Bridge Menu Integration**: The "Run with Mock" command will appear in the Pico Bridge sidebar/menu alongside "Start Server", "Open Bridge", etc. Should it:

   - Open the webview in a **side panel** (beside the code)?
   - Open as a **new tab** (full editor area)?
   - Open in a **bottom panel** (like the terminal)?

5. **Pin Diagram**: I see you attached the Pico pinout SVG. Should I:

   - Embed this exact SVG and overlay activity indicators on it?
   - Create a simplified schematic version that's easier to animate?
   - Support both Pico and ESP32, or focus on Pico first?

6. **"Activity Lights"**: For pin visualization, what should trigger the lights?
   - **Any read/write** to the pin (flash on access)
   - **State changes only** (HIGH = green, LOW = red/off)
   - **PWM duty cycle** shown as brightness
   - **All of the above** with different visual indicators?

Let me know and I'll update the plan with these details!

1. Yes A&C
2. Sorry I chnaged my mind but in the webview add a menu item to view the Pin out diagram (move a copy to the extension)
3. Could a menu be given where user enters return? Ie its a acceleramoter and they enter the 3x axix data you convert to hex? Falls back to option D
4. Menu is to open the emulator
5. Emulator responds when I click playbutton in top right of VSCode
6. Create a simplified schematic version that's easier to animate? IT MUST BE ACCURATE if possible use one alreayd amde from documentaion
   Support both Pico and ESP32,
7. All of the above with different visual indicators?
